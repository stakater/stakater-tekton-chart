name: stakater-main-pr-v2
workspaces:
  - name: source
    volumeClaimTemplate:
      accessModes: ReadWriteOnce
      resourcesRequestsStorage: 1Gi
  - name: my-workspace
    volumeClaimTemplate:
      accessModes: ReadWriteOnce
      resourcesRequestsStorage: 0.5Gi
pipelines:
  tasks:
    - taskName: stakater-buildah-v1
    - taskName: my-task
      params: 
      - name: "my-param"
        value: "my-value"
      workspaces:
      - name: my-workspace
        workspace: my-workspace
      
triggertemplate:
  serviceAccountName: stakater-tekton-builder
eventlistener:
  serviceAccountName: stakater-tekton-builder
  triggers:
  - name: stakater-pr-cleaner-v2-pullrequest-merge
    create: false
  - name: pullrequest
    bindings:
    - ref: stakater-pr-v1
  - name: push
    bindings:
    - ref: stakater-main-v1
